<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Редизайн: олдскул → космический модерн</title>

  <!-- Общие стили проекта (кнопки и т.д.) -->
  <link rel="stylesheet" href="../assets/css/styles.css"/>

  <style>
    html{ scroll-behavior:smooth }

    /* =========================
       ТЕМА И ПЕРЕМЕННЫЕ ПЕРЕХОДА
       ========================= */
    .theme{
      --t: 0; /* 0 = винтаж, 1 = модерн */

      /* Цвета */
      --old-bg: #e0ecff;      --new-bg: #0e1024;
      --old-panel: #f4f7ff;   --new-panel: #0b0f22;
      --old-text: #0a2458;    --new-text: #e9faff;
      --old-accent:#1c7dff;   --new-accent:#00ffc8;

      --bg: color-mix(in oklab, var(--old-bg) calc(100% - var(--t)*100%), var(--new-bg) calc(var(--t)*100%));
      --panel: color-mix(in oklab, var(--old-panel) calc(100% - var(--t)*100%), var(--new-panel) calc(var(--t)*100%));
      --text: color-mix(in oklab, var(--old-text) calc(100% - var(--t)*100%), var(--new-text) calc(var(--t)*100%));
      --accent: color-mix(in oklab, var(--old-accent) calc(100% - var(--t)*100%), var(--new-accent) calc(var(--t)*100%));

      /* Геометрия/тени/зерно */
      --radius: calc(4px + (18px - 4px) * var(--t));
      --shadow: 0 calc(2px + 6px*var(--t)) calc(10px + 18px*var(--t)) rgba(0,0,0, calc(.12 + .25*var(--t)));
      --grain: calc(.8 * (1 - var(--t)));
      --glow: calc(.25 * var(--t));

      background: var(--bg);
      color: var(--text);
      min-height: 100dvh;
    }

    .wrap{ max-width:1100px; margin:0 auto; padding:0 18px }
    section{ padding: 44px 18px }
    @media (min-width:960px){ section{ padding: 64px 18px } }

    /* Reveal */
    .reveal{ opacity:0; transform:translateY(16px); transition:.6s ease }
    .reveal.visible{ opacity:1; transform:none }

    /* =========================
       ВЕРХ: ВИНТАЖНЫЙ ДЕСКТОП (FULL BLEED)
       ========================= */
    .desktop{
      width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw);
      position:relative; overflow:hidden; padding:0;
      background:
        radial-gradient(120% 80% at 50% -10%, rgba(255,255,255,.6), transparent 60%),
        linear-gradient(180deg,
         color-mix(in oklab, #ffffff calc(60% - var(--t)*60%), #15193a calc(var(--t)*100%)) 0%,
         var(--bg) 100%);
      isolation:isolate;
    }
    /* CRT скан-линии + зерно, исчезают по мере t */
    .desktop::after{
      content:""; position:absolute; inset:0; pointer-events:none;
      background:
        repeating-linear-gradient(0deg, rgba(0,0,0, .06*(1 - var(--t))) 0 2px, transparent 2px 4px),
        radial-gradient(200% 120% at 50% -20%, rgba(0,0,0,.25), transparent 50%);
      mix-blend-mode:soft-light; opacity: calc(.75 * (1 - var(--t)));
    }

    .desk-inner{
      display:grid; grid-template-columns:1.1fr 1fr; gap:18px; align-items:center;
      padding: clamp(28px, 7vw, 84px) 18px clamp(24px, 9vw, 120px);
    }
    @media (max-width:959.98px){ .desk-inner{ grid-template-columns:1fr } }

    /* Винтажное окно (синяя шапка) → плавно модернизируется */
    .win{
      background: color-mix(in oklab, #f6f9ff calc(100% - var(--t)*100%), var(--panel) calc(var(--t)*100%));
      border-radius: var(--radius);
      border:1px solid color-mix(in oklab, #ffffff 45%, rgba(255,255,255,.08) calc(var(--t)*100%));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .win-title{
      display:flex; align-items:center; gap:10px; padding:10px 12px;
      background: linear-gradient(#2e78df, #1b4e9f);
      color:#fff; font-weight:700; letter-spacing:.2px;
      opacity: calc(1 - var(--t));
    }
    .win-title .dots{ margin-left:auto; display:flex; gap:6px }
    .win-title .d{ width:14px; height:14px; border-radius:2px; background:linear-gradient(#fff,#ddd); box-shadow: inset 0 0 0 1px rgba(0,0,0,.25) }

    .mod-bar{
      opacity: var(--t); transform: translateY(calc(8px*(1 - var(--t))));
      transition: opacity .2s linear, transform .2s linear;
      display:flex; align-items:center; gap:12px; padding:12px;
    }
    .mod-bar .dot{ width:10px; height:10px; border-radius:50%; background:#00ffc8; box-shadow:0 0 10px rgba(0,255,200,.6) }

    .win-body{ padding:14px 12px 18px }
    .win-body h1{
      margin:0 0 10px; font-size:clamp(22px,4.8vw,40px); line-height:1.18;
      background:linear-gradient(90deg,#000,#444 40%,#aaa 70%,#000);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      filter:saturate(calc(.4 + .6*var(--t)));
    }
    .win-body p{ margin:0; color: color-mix(in oklab, #0a2458 calc(100% - var(--t)*100%), #b7c0cb calc(var(--t)*100%)) }

    /* ИКОНКИ: винтаж → модерн (кроссфейд + движения) */
    .icons{
      position:relative; height:260px;
      border-radius: calc(10px + 12px*var(--t));
      background:
        linear-gradient(145deg,
          color-mix(in oklab, #ffffff calc(85% - var(--t)*85%), #1a203f calc(var(--t)*100%)),
          color-mix(in oklab, #e8f0ff calc(100% - var(--t)*100%), #0b0f22 calc(var(--t)*100%)));
      border:1px solid color-mix(in oklab, #ffffff 45%, rgba(255,255,255,.1) calc(var(--t)*100%));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .icon{
      position:absolute; width:56px; height:56px; display:grid; place-items:center;
      border-radius:12px; font-weight:900;
      transition: transform .8s ease;
      filter: drop-shadow(0 6px 16px rgba(0,0,0,.25));
    }
    .icon.v1{ left:10%; top:12%; background:#fff; color:#0a2458; transform: rotate(-6deg) }
    .icon.v2{ left:28%; top:55%; background:#fff; color:#0a2458; transform: rotate(4deg) }
    .icon.v3{ left:62%; top:22%; background:#fff; color:#0a2458; transform: rotate(-3deg) }

    /* современные «глоу»-аналоги поверх (кроссфейд) */
    .icon-modern{
      position:absolute; width:56px; height:56px; display:grid; place-items:center;
      border-radius:14px;
      background: radial-gradient(120% 120% at 50% 10%, rgba(255,255,255,.35), transparent 60%),
                  linear-gradient(145deg,#2bd9ff,#7f5aff 35%,#00ffc8 70%,#ff6aa2);
      color:#0b0f22; font-weight:900;
      box-shadow:
        0 0 0 1px rgba(255,255,255,.18) inset,
        0 10px 28px rgba(127,77,255,.35),
        0 2px 0 rgba(255,255,255,.15) inset;
      opacity: calc(.05 + .95*var(--t));
      transform: translateY(calc(12px*(1 - var(--t))));
      filter: drop-shadow(0 10px 24px rgba(0,0,0,.35));
    }
    .icon-modern.m1{ left:12%; top:16% }
    .icon-modern.m2{ left:32%; top:58% }
    .icon-modern.m3{ left:65%; top:26% }

    /* лёгкая орбита для modern-иконок */
    @keyframes orbit { 0%{ transform:translateY(0) } 50%{ transform:translateY(-6px) } 100%{ transform:translateY(0) } }
    .icon-modern{ animation: orbit 6s ease-in-out infinite }

    /* Мягкий «неоновый» фон */
    .aurora{
      position:absolute; inset:-30% -20% auto -20%; height:60vh; pointer-events:none; z-index:0;
      background: conic-gradient(from 0deg,#27d7ff,#7c4dff,#00ffc8,#27d7ff);
      filter: blur(50px) saturate(1.2); opacity: calc(.25*var(--t));
      animation: spin 18s linear infinite;
    }
    @keyframes spin{ to{ transform:rotate(360deg) } }

    /* =========================
       ПЕРЕХОДНЫЕ ЛЕНТЫ И ПАНЕЛИ
       ========================= */
    .ribbon{
      width:100%; border-radius: calc(6px + 12px*var(--t));
      background: linear-gradient(90deg,
        #1461d9 0%,
        #1fb14f 18%,
        #ffd35a 36%,
        #7f5aff 54%,
        #2bd9ff 72%,
        #00ffc8 100%);
      height: 10px; box-shadow: 0 10px 28px rgba(0,0,0,.25) inset, 0 6px 14px rgba(0,0,0,.25);
      position:relative; overflow:hidden;
    }
    .ribbon::after{
      content:""; position:absolute; inset:0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
      transform: translateX(-100%); animation: line 4s linear infinite;
      opacity: .6;
    }
    @keyframes line{ to{ transform: translateX(100%) } }

    .panel{
      background: var(--panel);
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .muted{ color:#b7c0cb }

    /* =========================
       СОВРЕМЕННЫЙ КОСМО-БЛОК
       ========================= */
    .cosmo{
      position:relative; overflow:hidden; border-radius:18px;
      background: radial-gradient(120% 80% at 50% -20%, rgba(0,255,200,.08), transparent 60%),
                  linear-gradient(180deg,#10142a,#0b0f22);
      box-shadow: var(--shadow);
      border:1px solid rgba(255,255,255,.08);
    }
    .cosmo .head{
      display:flex; align-items:center; gap:10px; padding:16px 16px 8px 16px;
    }
    .cosmo .head .pulse{
      width:10px; height:10px; border-radius:50%;
      background:#00ffc8; box-shadow:0 0 10px rgba(0,255,200,.8);
      animation: pulse 2.2s ease-in-out infinite;
    }
    @keyframes pulse{ 0%{opacity:.4; transform:scale(1)} 50%{opacity:1; transform:scale(1.2)} 100%{opacity:.4; transform:scale(1)} }
    .cosmo .body{ padding: 8px 16px 18px 16px }

    /* Частицы */
    canvas.stars{
      position:absolute; inset:0; z-index:0; pointer-events:none;
      opacity: calc(.25 + .35*var(--t));
    }

    /* =========================
       КОНТАКТЫ FULL-BLEED (как на остальных страницах)
       ========================= */
    #contacts.full-bleed{
      width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw);
      padding:24px 0; background:#1e1f24; box-shadow:0 -1px 0 rgba(255,255,255,.06) inset;
    }
    #contacts.full-bleed .wrap{ max-width:1100px; margin:0 auto; padding:0 18px }
    #contacts .contact-buttons{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center }
    #contacts .contact-buttons .cta-button{ width:auto; min-width:0; padding:12px 18px; margin-top:0; border-radius:999px }
    #contacts{ scroll-margin-top:24px }

    /* Анимации по предпочтениям пользователя */
    @media (prefers-reduced-motion:reduce){
      .icon-modern, .aurora, .cosmo .head .pulse{ animation:none }
      .reveal{ transition:none }
      .desktop::after{ opacity:.2 }
    }
  </style>
</head>
<body>

  <main class="theme">

    <!-- ВЕРХ: ВИНТАЖНЫЙ ДЕСКТОП -->
    <section class="desktop">
      <div class="aurora"></div>

      <div class="desk-inner wrap">
        <div class="win reveal">
          <div class="win-title">
            <span>Сайт — окно</span>
            <div class="dots"><span class="d"></span><span class="d"></span><span class="d"></span></div>
          </div>
          <div class="mod-bar">
            <span class="dot"></span><strong>Современный режим</strong>
            <span class="muted">гладкий рендер, неон, микро-анимации</span>
          </div>
          <div class="win-body">
            <h1>Олдскул → Космический модерн</h1>
            <p>Заходишь — олдскул. Скроллишь — интерфейс живёт: иконки оживают, фон мерцает,
              панели меняют форму и текстуру. Внизу — как на всех страницах: контакты и кнопка «назад».</p>
            <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
              <a href="../index.html" class="cta-button">Вернуться на главную</a>
              <a href="#contacts" class="cta-button">Связаться</a>
            </div>
          </div>
        </div>

        <!-- ИКОНОГРАФИКА: ВИНТАЖ → МОДЕРН -->
        <div class="icons reveal" aria-hidden="true">
          <!-- винтажные -->
          <div class="icon v1" title="Дискета">💾</div>
          <div class="icon v2" title="Папка">🗂️</div>
          <div class="icon v3" title="Мышь">🖱️</div>

          <!-- модерн поверх (космический глоу) -->
          <div class="icon-modern m1" title="Cloud">☁️</div>
          <div class="icon-modern m2" title="Rocket">🚀</div>
          <div class="icon-modern m3" title="Spark">✨</div>
        </div>
      </div>
    </section>

    <!-- ПЕРЕХОДНАЯ ЛЕНТА -->
    <section class="wrap reveal" style="padding-top:20px">
      <div class="ribbon" aria-hidden="true"></div>
    </section>

    <!-- ПАНЕЛЬ: ОПИСАНИЕ С ПЕРЕМЕННОЙ СТИЛИСТИКОЙ -->
    <section class="wrap reveal">
      <div class="panel">
        <h2 style="margin:0 0 8px">Что происходит при скролле</h2>
        <p class="muted" style="margin:0">
          Текстуры и сетка теряют «винтажную» зернистость, скругления и тени переходят к современным.
          Иконки сменяют облик, а фон аккуратно «дышит». Переход программируем переменной <code>--t</code>
          (от 0 до 1) — она управляется скроллом.
        </p>
      </div>
    </section>

    <!-- КОСМО-БЛОК С ЧАСТИЦАМИ -->
    <section class="wrap reveal">
      <div class="cosmo">
        <canvas class="stars" id="stars"></canvas>
        <div class="head">
          <span class="pulse" aria-hidden="true"></span>
          <strong>Современный рендер</strong>
          <span class="muted">гладкие градиенты, мягкие микродвижения</span>
        </div>
        <div class="body">
          <p class="muted" style="margin:0 0 10px">
            Здесь можно показывать ключевые эффекты: неоновые акценты, частички, «ауру» и реакцию
            на действия пользователя. Всё ненавязчиво и без перегруза.
          </p>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px">
            <div class="panel" style="padding:12px">
              <strong>Анимации</strong>
              <p class="muted" style="margin:6px 0 0">Орбита и мерцание — по таймингу, который не раздражает.</p>
            </div>
            <div class="panel" style="padding:12px">
              <strong>Визуальные слои</strong>
              <p class="muted" style="margin:6px 0 0">Свет/тень, «аура» и зерно дают глубину и атмосферу.</p>
            </div>
          </div>
          <div style="margin-top:12px">
            <a href="#contacts" class="cta-button">Связаться</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ЕЩЁ ОДНА ПАНЕЛЬ ДЛЯ ДЛИНЫ СТРАНИЦЫ -->
    <section class="wrap reveal">
      <div class="panel">
        <h2 style="margin:0 0 8px">Зачем это всё</h2>
        <p class="muted" style="margin:0">
          Такая подача моментально показывает подход к редизайну: не «перекрасить», а переосмыслить —
          структуру, визуальный язык и ощущения. Переход 2000-е → модерн иллюстрирует путь и вкус.
        </p>
      </div>
    </section>

    <!-- КОНТАКТЫ (как в остальных страницах) -->
    <section id="contacts" class="full-bleed">
      <div class="wrap" style="text-align:center">
        <h2>Связаться со мной</h2>
        <p>Напиши в мессенджер или на почту — отвечаю быстро!</p>
        <div class="contact-buttons">
          <a class="cta-button telegram" href="https://t.me/yourusername" target="_blank" rel="noopener">Telegram</a>
          <a class="cta-button whatsapp" href="https://wa.me/71234567890" target="_blank" rel="noopener">WhatsApp</a>
          <a class="cta-button alt" href="mailto:example@mail.ru?subject=Редизайн%20сайта">Email</a>
        </div>
      </div>
    </section>

    <footer>
      <p>&copy; 2025 Ваше имя. Все права защищены. <a href="#">Политика конфиденциальности</a></p>
    </footer>
  </main>

  <!-- Скролл → переменная --t -->
  <script>
    (function(){
      const root = document.querySelector('.theme');
      if(!root) return;
      const RANGE = 1100; // длина «превращения»: увеличь/уменьши по вкусу
      const setT = () => {
        const y = window.scrollY || document.documentElement.scrollTop || 0;
        const t = Math.max(0, Math.min(1, y / RANGE));
        root.style.setProperty('--t', t.toFixed(3));
      };
      setT();
      window.addEventListener('scroll', setT, {passive:true});
    })();
  </script>

  <!-- Reveal по IntersectionObserver -->
  <script>
    (function(){
      const io = new IntersectionObserver((ents)=>{
        ents.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('visible'); io.unobserve(e.target); }});
      },{ rootMargin:"0px 0px -10% 0px", threshold:.12 });
      document.querySelectorAll('.reveal').forEach((el,i)=>{ el.style.transitionDelay=(i*50)+'ms'; io.observe(el); });
    })();
  </script>

  <!-- Частицы (звёзды) в космо-блоке -->
  <script>
    (function(){
      const c = document.getElementById('stars');
      if(!c) return;
      const ctx = c.getContext('2d');
      let w, h, stars=[];
      const DPR = Math.min(2, window.devicePixelRatio || 1);

      function resize(){
        w = c.clientWidth; h = c.clientHeight;
        c.width = Math.floor(w * DPR); c.height = Math.floor(h * DPR);
        ctx.setTransform(DPR,0,0,DPR,0,0);
        makeStars();
      }
      function makeStars(){
        const COUNT = Math.floor((w*h)/6000);
        stars = Array.from({length:COUNT}, ()=>({
          x: Math.random()*w,
          y: Math.random()*h,
          r: Math.random()*1.6+0.4,
          vx: (Math.random()-.5)*0.05,
          vy: (Math.random()-.5)*0.05,
          a: Math.random()*1
        }));
      }
      function draw(){
        ctx.clearRect(0,0,w,h);
        for(const s of stars){
          s.x += s.vx; s.y += s.vy; s.a += 0.02;
          if(s.x<0) s.x=w; if(s.x>w) s.x=0;
          if(s.y<0) s.y=h; if(s.y>h) s.y=0;
          const alpha = .35 + .35*Math.sin(s.a);
          ctx.beginPath();
          ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
          ctx.fillStyle = `rgba(255,255,255,${alpha})`;
          ctx.fill();
        }
        requestAnimationFrame(draw);
      }
      resize(); draw();
      new ResizeObserver(resize).observe(c);
    })();
  </script>
</body>
</html>
